{% extends 'consumables/base.html' %}

{% block content %}
<div style="margin-bottom: 20px;">
    <a href="{% url 'stock_list' %}" style="color: var(--text-secondary);">&lsaquo; Back to Restock</a>
</div>

<h2 style="margin-bottom: 20px; color: var(--accent-red);">Low Stock List</h2>

{% if items %}
<div style="background: var(--card-bg); border-radius: 12px; border: 1px solid var(--border-color); overflow: hidden;">
    {% for item in items %}
    <div
        style="padding: 15px; border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center;">
        <div>
            <div style="font-weight: bold; font-size: 1.1rem;">{{ item.name }}</div>
            <div style="font-size: 0.9rem; color: var(--text-secondary);">{{ item.category.name }}</div>
        </div>
        <div style="text-align: right;">
            <div style="color: {{ item.stock_status_color }}; font-weight: bold; font-size: 1.2rem;">
                {{ item.current_stock }}
            </div>
            <div style="font-size: 0.8rem; color: var(--text-secondary);">Avg: {{ item.average_stock }}</div>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<p style="text-align: center; color: var(--text-secondary); margin-top: 50px;">Great! No items are currently low on
    stock.</p>
{% endif %}
{% endblock %}