{% extends 'consumables/base.html' %}

{% block content %}
<div style="margin-bottom: 20px;">
    <a href="{% url 'category_detail' category.id %}" style="color: var(--text-secondary);">&lsaquo; Back</a>
</div>

<h2>New Item in {{ category.name }}</h2>

<form method="post">
    {% csrf_token %}

    {% if subcategories %}
    <label style="display: block; color: var(--text-secondary);">SubCategory (Optional)</label>
    <select name="subcategory"
        style="width: 100%; margin-bottom: 15px; padding: 12px; border-radius: 8px; border: 1px solid var(--border-color); background: var(--input-bg); color: var(--text-primary);">
        <option value="">-- None (Direct in Category) --</option>
        {% for sub in subcategories %}
        <option value="{{ sub.id }}">{{ sub.name }}</option>
        {% endfor %}
    </select>
    {% endif %}

    <label style="display: block; color: var(--text-secondary);">Item Name</label>
    <input type="text" name="name" required autofocus>

    <label style="display: block; color: var(--text-secondary); margin-top: 15px;">Average Stock (Ideal)</label>
    <input type="number" name="average_stock" value="0">

    <label style="display: block; color: var(--text-secondary); margin-top: 15px;">Current Stock</label>
    <input type="number" name="current_stock" value="0">

    <label style="display: block; color: var(--text-secondary); margin-top: 15px;">Score (Credits per unit)</label>
    <input type="number" name="score" value="1">

    <button type="submit" class="btn btn-primary" style="margin-top: 20px; width: 100%;">Create Item</button>
</form>
{% endblock %}